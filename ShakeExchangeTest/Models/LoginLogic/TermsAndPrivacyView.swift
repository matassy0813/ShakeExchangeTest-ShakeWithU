//
//  TermsAndPrivacyView.swift
//  ShakeExchangeTest
//
//  Created by 俣江悠聖 on 2025/07/11.
//

import SwiftUI

enum DocumentType {
    case terms
    case privacy

    var title: String {
        switch self {
        case .terms: return "利用規約"
        case .privacy: return "プライバシーポリシー"
        }
    }

    var content: String {
        switch self {
        case .terms:
            return """
            ## ShakeExchange 利用規約

            本利用規約（以下「本規約」といいます）は、[0kaka]（以下「当社」といいます）が提供するスマートフォンアプリケーション「Withu」（以下「本アプリ」といいます）の利用に関する条件を定めるものです。本アプリをご利用になるお客様（以下「ユーザー」といいます）は、本規約の全ての内容に同意の上、本アプリをご利用ください。

            ### 第1条（本規約の適用）
            1.  本規約は、本アプリの利用に関する当社とユーザーとの間の全ての関係に適用されます。
            2.  ユーザーは、本アプリの利用を開始する前に、本規約の全ての内容を確認し、同意するものとします。
            3.  ユーザーが本アプリを利用した場合、本規約に同意したものとみなされます。
            4.  当社は、ユーザーの事前の承諾を得ることなく、本規約を改定できるものとします。本規約を改定した場合、当社は本アプリ内または当社ウェブサイト上にて改定後の本規約を通知するものとし、当該通知の時点から改定後の本規約が効力を生じるものとします。

            ### 第2条（ユーザー登録）
            1.  本アプリの利用には、当社所定の方法によるユーザー登録が必要となる場合があります。
            2.  ユーザーは、ユーザー登録にあたり、真実かつ正確な情報を提供するものとします。提供情報に虚偽、誤りまたは記載漏れがあったことによりユーザーに損害が生じた場合でも、当社は一切の責任を負いません。
            3.  ユーザーは、Firebase Authentication を利用した認証をもって、ユーザー登録が完了します。
            4.  ユーザーは、自己の責任において、アカウント情報（ユーザーID、パスワード等）を厳重に管理するものとします。アカウント情報の不正利用により生じた損害について、当社は一切の責任を負いません。

            ### 第3条（本アプリの利用）
            1.  ユーザーは、本規約および当社が別途定めるガイドライン、プライバシーポリシー等に従い、本アプリを利用するものとします。
            2.  ユーザーは、自己の責任において本アプリを利用するものとし、本アプリの利用に関する一切の行為とその結果について責任を負うものとします。

            ### 第4条（禁止事項）
            ユーザーは、本アプリの利用にあたり、以下の行為を行ってはならないものとします。
            1.  法令または公序良俗に違反する行為、またはそのおそれのある行為
            2.  犯罪行為に関連する行為
            3.  当社、本アプリの他のユーザーまたは第三者の著作権、商標権その他の知的財産権を侵害する行為
            4.  当社、本アプリの他のユーザーまたは第三者の財産、プライバシー、名誉、信用その他の権利または利益を侵害する行為
            5.  本アプリの運営を妨害するおそれのある行為、または本アプリの信用を毀損する行為
            6.  本アプリのネットワークまたはシステムに不正にアクセスする行為、または不正なアクセスを試みる行為
            7.  本アプリの他のユーザーになりすます行為
            8.  本アプリを商業目的で利用する行為（当社が事前に許可した場合を除く）
            9.  違法または公序良俗に反する画像、動画、テキストその他のコンテンツをアップロード、表示、送信する行為
            10. 本アプリのシステムに過度な負担をかける行為
            11. その他、当社が不適切と判断する行為

            ### 第5条（知的財産権）
            1.  本アプリおよび本アプリに関する著作権、商標権、特許権その他の知的財産権は、全て当社または当社にライセンスを許諾している第三者に帰属します。
            2.  ユーザーが本アプリを通じてアップロード、表示、送信した写真、テキスト、動画その他のコンテンツ（以下「ユーザーコンテンツ」といいます）の著作権は、当該ユーザーに帰属します。ただし、ユーザーは、当社に対し、本アプリの運営、表示、機能提供および改善に必要な範囲で、当該ユーザーコンテンツを無償で利用（複製、公衆送信、頒布、翻訳、翻案等を含む）することを許諾するものとします。
            3.  ユーザーは、本アプリを通じて提供されるいかなる情報も、権利者の許諾を得ることなく、私的利用の範囲を超えて使用することはできません。

            ### 第6条（サービスの提供の停止等）
            1.  当社は、以下のいずれかに該当する場合、ユーザーに事前に通知することなく、本アプリの全部または一部の提供を停止または中断できるものとします。
                * 本アプリに係るコンピューターシステムの保守点検または更新を行う場合
                * 地震、落雷、火災、停電または天災などの不可抗力により、本アプリの運営が困難となった場合
                * コンピューターまたは通信回線等が事故により停止した場合
                * その他、当社が本アプリの提供が困難と判断した場合
            2.  当社は、ユーザーが本規約のいずれかの条項に違反した場合、またはその他当社が本アプリの利用を適当でないと判断した場合、当該ユーザーへの本アプリの提供を一時停止または終了できるものとします。
            3.  当社は、本条に基づき当社が行った措置によりユーザーに生じた損害について、一切の責任を負いません。

            ### 第7条（免責事項）
            1.  当社は、本アプリの内容、機能、正確性、完全性、有用性、特定の目的への適合性、安全性、信頼性、その他一切の事項について、いかなる保証も行いません。
            2.  本アプリは「現状有姿」で提供され、本アプリの利用によりユーザーに生じた損害について、当社は一切の責任を負いません。ただし、当社の故意または重過失によりユーザーに損害が生じた場合は、この限りではありません。
            3.  当社は、本アプリの提供の中断、停止、終了、利用不能または変更、アカウントの削除または喪失、データの消失または破損、ユーザー間またはユーザーと第三者との間で発生したトラブル、その他本アプリに関連してユーザーが被った損害につき、賠償する責任を一切負わないものとします。
            4.  当社は、本アプリを通じてユーザーが取得する情報（他のユーザーのプロフィール情報、写真、ネットワーク構造など）の正確性、完全性、有用性、安全性等について、いかなる保証も行いません。

            ### 第8条（個人情報の取り扱い）
            ユーザーの個人情報の取り扱いについては、別途定めるプライバシーポリシーに従うものとします。

            ### 第9条（準拠法・合意管轄）
            1.  本規約の準拠法は日本法とします。
            2.  本規約または本アプリに関連してユーザーと当社との間で生じた紛争については、[あなたの会社所在地を管轄する地方裁判所]を第一審の専属的合意管轄裁判所とします。

            [22025/07/07]
            [Created by 0kaka]
            [連絡先: matassy0813@gmail.com]
            """
        case .privacy:
            return """
            ## ShakeExchange プライバシーポリシー

            [あなたの会社名または開発者名]（以下「当社」といいます）は、当社が提供するスマートフォンアプリケーション「ShakeExchange」（以下「本アプリ」といいます）における、ユーザーの個人情報を含む情報（以下「ユーザー情報」といいます）の取り扱いについて、以下のとおりプライバシーポリシー（以下「本ポリシー」といいます）を定めます。

            ### 1. 収集するユーザー情報と収集方法
            本アプリにおいて当社が収集するユーザー情報は、その収集方法に応じて、以下のとおりです。

            #### (1) ユーザーから直接ご提供いただく情報
            * **アカウント情報**: Firebase Authentication によるユーザー識別情報（UID、メールアドレスなど）、ユーザー名、アイコン画像、プロフィール情報（説明文、リンクなど）、その他のアカウント登録時にご提供いただく情報。
            * **友達関係情報**: ユーザーが本アプリ内で友達として登録した他のユーザーのIDなど、友達関係を示す情報。
            * **ユーザーが入力または送信するコンテンツ情報**: チャット内容、投稿内容、アンケート回答、写真、動画など、ユーザーが本アプリを通じて作成またはアップロードする情報。

            #### (2) ユーザーが本アプリを利用するにあたって、当社が自動的に収集する情報
            * **端末情報**: 端末ID、OS情報、IPアドレス、広告識別子（IDFA/GAID）、ブラウザの種類、言語設定など。
            * **ログ情報**: 本アプリの利用日時、操作履歴、アクセスしたページ、エラー情報など。
            * **位置情報**: ユーザーの同意に基づき、本アプリの機能提供（例：近くのユーザー検索、シェイクによる友達追加など）に必要な範囲で収集される情報。位置情報の取得を許可しない場合、一部機能が利用できないことがあります。
            * **Cookieおよび類似技術**: 本アプリの機能改善、利用状況の分析、広告配信のために利用される情報。
            * **ネットワーク構造情報**: ユーザーの友達リストや、その友達の友達といった間接的なつながりを示すネットワーク構造に関する情報。

            ### 2. ユーザー情報の利用目的
            当社は、収集したユーザー情報を以下の目的で利用します。

            1.  **本アプリの提供・運営のため**:
                * アカウントの管理、本人確認、認証のため。
                * 友達ネットワークの構築と可視化、プロフィール情報の交換と管理のため。
                * アルバム写真の保存、閲覧、共有機能を提供するため。
                * 本アプリの機能（シェイクによる友達追加など）を円滑に提供するため。
                * ユーザーからの問い合わせ、ご要望への対応のため。
            2.  **本アプリの改善・開発のため**:
                * 本アプリの利用状況の分析、統計データの作成、およびサービス改善のため。
                * 新機能の開発、ユーザー体験のパーソナライズのため。
            3.  **安全確保・不正対策のため**:
                * 本アプリの利用規約に違反する行為、不正行為、または違法行為の防止、調査、および対応のため。
                * 本アプリのセキュリティ維持のため。
            4.  **広告・マーケティングのため**:
                * ユーザーに合わせた広告の表示、効果測定のため（ユーザーの同意がある場合、または法令で認められる場合）。
                * キャンペーン、イベント、新機能などの情報提供のため。

            ### 3. 個人情報の第三者提供
            当社は、次に掲げる場合を除き、ユーザーの個人情報を第三者に提供することはありません。

            1.  **ユーザーの同意がある場合**。
            2.  **法令に基づく場合**。
            3.  人の生命、身体または財産の保護のために必要がある場合であって、本人の同意を得ることが困難である場合。
            4.  公衆衛生の向上または児童の健全な育成の推進のために特に必要がある場合であって、本人の同意を得ることが困難である場合。
            5.  国の機関もしくは地方公共団体またはその委託を受けた者が法令の定める事務を遂行することに対して協力する必要がある場合であって、本人の同意を得ることにより当該事務の遂行に支障を及ぼすおそれがある場合。
            6.  合併、会社分割、事業譲渡その他の事由により個人情報の提供を含む事業の承継が行われる場合。
            7.  **利用目的の達成に必要な範囲内で、業務委託先（Firebaseなどのクラウドベンダー、分析ツール提供者など）に対して個人情報の取り扱いを委託する場合**。この場合、当社は、委託先に対して適切な監督を行います。

            ### 4. 個人情報の共同利用
            当社は、利用目的の達成に必要な範囲内で、ユーザーの個人情報を共同利用することがあります。
            * 共同利用する情報の項目：[例：氏名、メールアドレス、利用履歴、プロフィール情報、友達関係情報など]
            * 共同利用する者の範囲：[例：当社のグループ会社、提携パートナーなど]
            * 共同利用の目的：[例：共同サービスの提供、共同でのマーケティング活動、サービス改善など]
            * 共同利用における管理責任者：[例：当社の個人情報保護管理責任者]

            ### 5. 個人情報の安全管理
            当社は、ユーザー情報の漏洩、滅失または毀損の防止その他のユーザー情報の安全管理のために、必要かつ適切な措置を講じます。これには、以下のような措置が含まれますが、これらに限定されません。
            * **Firebase Authentication による認証とアクセス制御**。
            * **Firestore セキュリティルールおよび Cloud Functions によるデータへの閲覧制限**。
            * **通信時の暗号化（HTTPS / Multipeer Connectivity）**。
            * 従業員への定期的な情報セキュリティ教育。
            * アクセス権限の管理。

            ### 6. ユーザー情報の開示・訂正・利用停止等
            ユーザーは、当社所定の手続きにより、自己の個人情報の開示、訂正、追加、削除、利用停止、消去等を請求することができます。その際、当社は本人確認を行った上で、合理的な期間内に対応します。

            ### 7. 本ポリシーの変更
            当社は、必要に応じて、本ポリシーを変更することができます。変更後の本ポリシーは、本アプリ内または当社ウェブサイト上での掲示その他分かりやすい方法で通知された時点から効力を生じるものとします。

            ### 8. お問い合わせ窓口
            本ポリシーに関するお問い合わせは、以下の窓口までお願いいたします。
            [開発者：0kaka]
            メールアドレス: matassy0813@gmail.com
            住所: 日本

            [2025/07/07]
            """
        }
    }
}

struct TermsAndPrivacyView: View {
    @Environment(\.dismiss) var dismiss
    let documentType: DocumentType

    var body: some View {
        NavigationView {
            ScrollView {
                VStack(alignment: .leading, spacing: 15) {
                    Text(documentType.content)
                        .font(.body)
                        .padding()
                }
                .navigationTitle(documentType.title)
                .navigationBarTitleDisplayMode(.inline)
                .toolbar {
                    ToolbarItem(placement: .navigationBarLeading) {
                        Button("閉じる") {
                            dismiss()
                        }
                    }
                }
            }
        }
    }
}
